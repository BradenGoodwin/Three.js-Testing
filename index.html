<!DOCTYPE html>
<html lang="en">
<head>
	<title>Some Cool Stuff</title>
	<meta charset="utf-8">
</head>
<body style="margin: 0;">

	<script id="html-layout">
	// Import the Number-to-Words module installed from npm
	//var converter = require('number-to-words');

	// Initial caps function
	function capitalizeFirstLetter(string) {
		return string.charAt(0).toUpperCase() + string.slice(1);
	}

	var form = document.createElement('form');
	form.id = 'form-1';
	form.className = 'dropdown-form';

	var inputDrop = document.createElement('select');
	inputDrop.className = "dropdowns";
	form.appendChild(inputDrop); // append initial inputDrop to form

	var opt1 = document.createElement('option');
	var opt2 = document.createElement('option');
	opt1.value = 'option1';
	opt2.value = 'option2';
	opt1.innerHTML = "Option 1";
	opt2.innerHTML = "Option 2";
	inputDrop.appendChild(opt1);
	inputDrop.appendChild(opt2);

	form.appendChild(inputDrop); // append updated inputDrop to form
	document.body.appendChild(form); // add form to the document

	var inputDrop2 = document.createElement('select');
	inputDrop2.className = "dropdowns";
	form.appendChild(inputDrop2);

	/* array of length 7 to hold drop down <option> tags.
	* one for blank initial and 6 for shape sides.
	*/
	var inputOpts = new Array(7);
	inputOpts[0] = document.createElement('option');
	inputOpts[0].value = 'blank-initial';
	inputOpts[0].innerHTML = ""; // initialize first option to be blank
	inputDrop2.appendChild(inputOpts[0]);

	/*inputOpts[1] = document.createElement('option');
	inputOpts[1].value = 'option1drop2';
	inputOpts[1].innerHTML = "Test this shit";
	inputDrop2.appendChild(inputOpts[1]);*/

	for(i = 1; i < 7; i++){
		//var converter = require('number-to-words');

		//var numWord = converter.toWords(i+2);
		inputOpts[i] = document.createElement('option');
		inputOpts[i].value = "test" + "_sides";
		inputOpts[i].innerHTML = "Test" + " Sides";
		inputDrop2.appendChild(inputOpts[i]);
	}

	inputDrop.addEventListener('change', function() {
		alert("nice");
	});
	</script>


	<!--     THREE.js Scripts     -->

	<script src="js/three.min.js"></script>
	<script src="js/OrbitControls.js"></script>
	<script src="js/Detector.js"></script>

	<!--CDN link for  TweenMax-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.2/TweenMax.min.js"></script>

	<script id="threejs-app"> // <![CDATA[

		// Set up the scene, camera, and renderer as global variables
		var scene, camera, renderer;
		// Set up vertexPositions array as global
		var vertexPositions = [];

		// Check compatibility, run init functions, and animate
		if (Detector.webgl) {
			// Initiate function or other initializations here
			initScene();
			initLighting();
			initGeometry();
			getOriginalVertexPositions(icosaGeometry);
			animate();
		} else {
			var warning = Detector.getWebGLErrorMessage();

			document.getElementById('container').appendChild(warning);
		}

		// Sets up the scene, renderer, camera, background color, controls
		function initScene() {
			// Create scene and set size
			scene = new THREE.Scene();
			var WIDTH = window.innerWidth,
			HEIGHT = window.innerHeight;

			// Create the renderer and set size to same as scene
			renderer = new THREE.WebGLRenderer({antialias:true});
			renderer.setSize(WIDTH, HEIGHT);
			document.body.appendChild(renderer.domElement);

			// Create a camera, zoom it out from the model a bit, and add it to the scene
			camera = new THREE.PerspectiveCamera(45, WIDTH/HEIGHT, 1, 500);
			camera.position.set(0,0,100);
			camera.lookAt(new THREE.Vector3(0,0,0));
			scene.add(camera);

			// Create an event listener that resizes the renderer with the browser window
			window.addEventListener('resize', function() {
				var WIDTH = window.innerWidth,
				HEIGHT = window.innerHeight;
				renderer.setSize(WIDTH, HEIGHT);
				camera.aspect = WIDTH/HEIGHT;
				camera.updateProjectionMatrix();
			});

			// Set the background color of the scene
			renderer.setClearColor(0xFFFFFF, 1);

			// Add OrbitControls to allow panning around with mouse
			controls = new THREE.OrbitControls(camera, renderer.domElement);
		}


		// Initialize all the lighting
		function initLighting() {
			// Create a light, set its position, and add it to the scene
			var light = new THREE.PointLight(0xffffff);
			light.position.set(-100,200,100);
			scene.add(light);
		}


		// Declare boxGeometry, boxEdges, outlinedBox, and vertexPositions[] globally
		var icosaGeometry, icosaMesh;

		// Initialize all the starting geometry
		function initGeometry() {

			/* Old outlined box
			// Create a box with its edges outlined
			boxGeometry = new THREE.BoxGeometry(10, 10, 10);
			boxEdges = new THREE.EdgesGeometry( boxGeometry );
			outlinedBox = new THREE.LineSegments( boxEdges, new THREE.LineBasicMaterial({ color: 0x005aff }));
			scene.add(outlinedBox);
			*/

			icosaGeometry = new THREE.IcosahedronGeometry( 20 );

			// Give random colors to every face on the geometry
			for ( var i = 0; i < icosaGeometry.faces.length; i++){
				var hue = Math.random();
				icosaGeometry.faces[i].color.setHSL(hue, 1.0, 0.7);
			}

			icosaMesh = new THREE.Mesh( icosaGeometry, new THREE.MeshBasicMaterial( { vertexColors: THREE.FaceColors } ));
			scene.add( icosaMesh );
		}

		function getOriginalVertexPositions(geometry) {
			// go through each vertex geometry and store their position in an Array
			for (var i = 0, l = geometry.vertices.length; i < l; i++) {
				vertexPositions.push({x: geometry.vertices[i].x, y: geometry.vertices[i].y});
			}
		}

		// Renders the scene and updates the render as needed
		function animate() {

			// Read more about requestAnimationFrame at http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/
			requestAnimationFrame(animate);

			icosaMesh.rotateX(.01);
			icosaMesh.rotateY(.02);
			icosaMesh.rotateZ(.01);

			// Render the scene
			renderer.render(scene, camera);
			controls.update();
		}

		// ]]>
		</script>



		<div id="info">Three.js</div>
		<!--<select id="dropdown_sides">
		<option value="default"></option>
		<option value="three_sides">Three Sides</option>
	</select>-->
	<style>
	#info {
		position: absolute;
		top: 10px;
		width: 100%;
		text-align: center;
		z-index: 100;
		display: block;
		font-size: 40px;
		font-variant: small-caps;
		font-weight: lighter;
		font-family: "Helvetica";
		color: black;
	}
	.dropdown-form {
		position: absolute;
		display: block;
		top: 30px;
		left: 5px;
		width: 15em;
		z-index: 200;
	}
	.dropdowns {
		display: block;
		margin: 5px;
	}
	</style>
</body>
</html>
